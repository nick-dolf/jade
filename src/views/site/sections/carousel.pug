include ../components/image-carousel
include ../components/image-carousel-lazy

mixin carousel(content, id)
  section.carousel(id=id)
    for item, index in content
      if index == 0
        div.slide
          +image-carousel(item.image, images[item.image])
          div.subtitle
            != md(item.subtext)
      else
        div.slide.hidden
          +image-carousel-lazy(item.image, images[item.image])
          div.subtitle
            != md(item.subtext)

    button.btn-ghost.btn-img.prev(aria-label="Next image")
      include ../components/chevron-left.pug
    button.btn-ghost.btn-img.next(aria-label="Previous image")
      include ../components/chevron-right.pug

    div.boxes
      for item, index in content
        div.box